import{d as a,r as e,o as l,M as s,c as t,k as o,l as i,m as n,t as r,v as u,n as c,A as v,F as d,p,G as f,J as m,B as b,z as h,N as y,K as g,q as k}from"./vendor-DG3C2HZs.js";import{u as w,_ as S}from"./index-CDvNi4Z9.js";const j={class:"dashboard"},N={class:"container"},x={class:"header-row"},J={class:"dashboard-title"},C={class:"dashboard-tabs"},O={key:0,class:"tab-content"},I={class:"profile-header"},U={key:0,class:"profile-avatar"},V=["src"],D={key:1,class:"profile-avatar"},P=["src"],A={key:2,class:"profile-avatar"},L={class:"profile-info"},E={class:"profile-field"},T={class:"field-label"},q={class:"field-value"},$={class:"profile-field"},G={class:"field-label"},R={class:"field-value"},_={class:"profile-field"},F={class:"field-label"},M={class:"field-value"},z={class:"profile-field"},B={class:"field-label"},H={class:"field-value"},K={key:0,class:"profile-field"},Y={class:"field-label"},Q={class:"field-value"},W={key:1,class:"profile-field"},X={class:"field-label"},Z={class:"field-value"},aa={key:2,class:"profile-field"},ea={class:"field-label"},la={class:"field-value"},sa={class:"profile-field"},ta={class:"field-label"},oa={class:"field-value"},ia={key:3,class:"profile-field"},na={class:"field-label"},ra={class:"field-value auth-provider"},ua={key:1,class:"tab-content"},ca={class:"jobs-filters"},va={class:"status-filter"},da={key:0,class:"mt-3"},pa={class:"jobs-list mt-4"},fa={key:0,class:"no-jobs"},ma={key:1,class:"job-items"},ba={class:"job-header"},ha={class:"job-body"},ya={class:"job-details"},ga={class:"job-detail"},ka={class:"job-detail"},wa={class:"job-detail"},Sa={key:0,class:"job-detail"},ja={key:1,class:"job-detail"},Na={key:0,class:"job-remarks"},xa={class:"job-actions"},Ja={class:"btn btn-primary"},Ca=["onClick"],Oa=["onClick"],Ia={key:2,class:"btn btn-outline"},Ua={key:3,class:"btn btn-success"},Va=["onClick"],Da={key:2,class:"tab-content"},Pa={class:"jobs-filters"},Aa={class:"filter-options"},La={class:"search-container"},Ea={class:"category-filter"},Ta={class:"categories-wrapper"},qa=["onClick"],$a={class:"jobs-list mt-4"},Ga={key:0,class:"no-jobs"},Ra={key:1,class:"job-items"},_a={class:"job-header"},Fa={class:"job-body"},Ma={class:"job-details"},za={class:"job-detail"},Ba={class:"job-detail"},Ha={class:"job-detail"},Ka={key:0,class:"job-detail"},Ya={key:0,class:"job-remarks"},Qa={class:"job-actions"},Wa=["onClick"],Xa={key:3,class:"tab-content"},Za={class:"applications-container"},ae={key:0,class:"application-list"},ee={class:"application-job-header"},le={class:"application-job-description"},se={class:"application-details"},te={class:"application-detail"},oe={class:"application-detail"},ie={class:"application-detail"},ne={key:0,class:"job-remarks"},re={class:"applications-count"},ue={class:"applicants-list"},ce={class:"applicant-header"},ve={class:"applicant-details"},de={class:"applicant-applied-date"},pe={key:0,class:"applicant-actions"},fe=["onClick"],me=["onClick"],be={key:1,class:"applicant-actions"},he=["onClick"],ye={key:1,class:"no-applications"},ge={key:4,class:"tab-content"},ke={key:0,class:"modal-overlay"},we={class:"modal"},Se={class:"modal-content"},je={class:"form-group profile-photo-upload"},Ne={class:"photo-upload-container"},xe=["src"],Je={key:1,class:"photo-placeholder"},Ce={class:"photo-upload-controls"},Oe={for:"photo-upload-edit",class:"upload-btn"},Ie={key:0,class:"photo-error"},Ue={class:"form-group"},Ve={key:0,class:"error-message"},De={class:"form-group"},Pe={key:0,class:"error-message"},Ae={class:"form-group"},Le={key:0,class:"error-message"},Ee={class:"form-group"},Te={key:0,class:"error-message"},qe={key:0,class:"form-group"},$e={class:"checkbox-label"},Ge={key:1,class:"form-group"},Re={key:2,class:"form-group"},_e={key:1,class:"modal-overlay"},Fe={class:"modal"},Me={class:"modal-content"},ze={class:"form-group"},Be={key:0,class:"error-message"},He={class:"form-group"},Ke={key:0,class:"error-message"},Ye={class:"form-group"},Qe={key:0,class:"error-message"},We={class:"form-group"},Xe={key:0,class:"error-message"},Ze={class:"form-group"},al={key:0,class:"error-message"},el={class:"form-group"},ll={key:0,class:"error-message"},sl={class:"form-group"},tl={key:2,class:"modal-overlay"},ol={class:"modal"},il={class:"modal-content"},nl={class:"form-group"},rl={key:0,class:"error-message"},ul={class:"form-group"},cl={key:0,class:"error-message"},vl={class:"form-group"},dl={key:0,class:"error-message"},pl={class:"form-group"},fl={key:0,class:"error-message"},ml={class:"form-group"},bl={key:0,class:"error-message"},hl={class:"form-group"},yl={class:"form-group"},gl={key:0,class:"error-message"},kl={class:"form-group"},wl={class:"form-group"},Sl=S(a({__name:"DashboardView",setup(a){const{t:S}=w(),Sl=e([]),jl=e([]);l((()=>{const a=localStorage.getItem("user");if(a)try{const e=JSON.parse(a);console.log("Загружаем данные пользователя из localStorage:",e),e.userType&&(Nl.value=e.userType),xl.value={fullName:e.fullName||e.name||"Пользователь",phone:e.phone||"",email:e.email||"",age:e.age||0,hasOtherJobs:void 0!==e.hasOtherJobs&&e.hasOtherJobs,authProvider:e.authProvider||"",skills:e.skills||[],experience:e.experience||"",avatar:e.avatar||e.picture||"",photo:e.photo||e.picture||""},console.log("Данные пользователя загружены в компонент:",xl.value),console.log("Загруженный возраст:",e.age),console.log("Загруженное фото:",e.photo?"Фото найдено":"Фото не найдено")}catch(s){console.error("Ошибка при загрузке данных пользователя:",s)}const e=localStorage.getItem("jobs");if(e)try{const a=JSON.parse(e);Sl.value=a.map((a=>({...a,status:a.status||"new"})))}catch(s){console.error("Ошибка при загрузке вакансий:",s),Sl.value=Ul}else Sl.value=Ul,localStorage.setItem("jobs",JSON.stringify(Ul));const l=localStorage.getItem("myJobs");if(l&&"worker"===Nl.value)try{jl.value=JSON.parse(l)}catch(s){console.error("Ошибка при загрузке принятых вакансий:",s),jl.value=[]}xl.value.photo&&(Il.preview=xl.value.photo)}));const Nl=e("worker"),xl=e({fullName:"",phone:"",email:"",age:0,hasOtherJobs:!1,authProvider:"",skills:[],experience:"",avatar:"",photo:""}),Jl=e(!1),Cl=e({fullName:"",phone:"",email:"",age:0,hasOtherJobs:!1,skills:"",experience:""}),Ol=e({fullName:"",phone:"",email:"",age:""}),Il=s({file:null,preview:"",error:""}),Ul=[{id:1,title:"Уборщица на 2 часа",description:"Требуется уборщица для уборки квартиры, площадь 65 кв.м.",salary:"1000 сом",location:"Бишкек, 10 мкр",phone:"+996 555 123456",date:"2023-06-01",status:"new"},{id:2,title:"Разнорабочий на стройку",description:"Требуется разнорабочий на стройку на 1 день.",salary:"1500 сом",location:"Бишкек, ул. Киевская",phone:"+996 700 654321",date:"2023-06-02",status:"in-progress"},{id:3,title:"Курьер на 3 часа",description:"Требуется курьер для доставки документов по городу.",salary:"500 сом",location:"Бишкек, центр",phone:"+996 777 987654",date:"2023-06-03",status:"completed"}],Vl=e("profile"),Dl=e("all"),Pl=t((()=>"employer"===Nl.value?"all"===Dl.value?Sl.value:Sl.value.filter((a=>a.status===Dl.value)):"all"===Dl.value?jl.value:jl.value.filter((a=>a.status===Dl.value)))),Al=t((()=>{if("worker"!==Nl.value)return[];const a=jl.value.map((a=>a.id));return Sl.value.filter((e=>{const l="new"===e.status&&!a.includes(e.id),s="Все"===Ll.value||e.category===Ll.value,t=!El.value||e.title.toLowerCase().includes(El.value.toLowerCase())||e.description.toLowerCase().includes(El.value.toLowerCase())||e.location.toLowerCase().includes(El.value.toLowerCase());return l&&s&&t}))})),Ll=e("Все"),El=e(""),Tl=e(["Все","Уборка","Строительство","Доставка","Ремонт","Няни","Разное"]),ql=a=>{Vl.value=a},$l=a=>{Dl.value=a},Gl=a=>({new:S("newStatus"),"in-progress":S("inProgressStatus"),completed:S("completedStatus")}[a]||a),Rl=a=>new Date(a).toLocaleDateString("ru-RU"),_l=t((()=>{switch(xl.value.authProvider){case"google":return"fab fa-google";case"telegram":return"fab fa-telegram-plane";default:return"fas fa-user"}})),Fl=t((()=>{switch(xl.value.authProvider){case"google":return"Google";case"telegram":return"Telegram";default:return"Email и пароль"}})),Ml=t((()=>"employer"!==Nl.value?[]:Sl.value.filter((a=>a.applications&&a.applications.length>0)))),zl=t((()=>Ml.value.length>0)),Bl=a=>{if(!a)return"";const e=new Date(a);return`${e.getDate().toString().padStart(2,"0")}.${(e.getMonth()+1).toString().padStart(2,"0")}.${e.getFullYear()} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},Hl=()=>{Jl.value=!0,Cl.value={fullName:xl.value.fullName,phone:xl.value.phone,email:xl.value.email,age:xl.value.age,hasOtherJobs:xl.value.hasOtherJobs,skills:xl.value.skills.join(", "),experience:xl.value.experience},xl.value.photo?Il.preview=xl.value.photo:Il.preview="",Il.file=null,Il.error="",Object.keys(Ol.value).forEach((a=>Ol.value[a]=""))},Kl=()=>{Jl.value=!1},Yl=a=>{const e=a.target;if(!e.files||0===e.files.length)return;const l=e.files[0];if(!l.type.match("image.*"))return Il.error="Пожалуйста, выберите изображение",Il.file=null,void(Il.preview="");if(l.size>5242880)return Il.error="Размер файла не должен превышать 5МБ",Il.file=null,void(Il.preview="");Il.file=l,Il.error="";const s=new FileReader;s.onload=a=>{var e;Il.preview=null==(e=a.target)?void 0:e.result},s.readAsDataURL(l)},Ql=()=>{Il.file=null,Il.preview="",Il.error=""},Wl=()=>{let a=!0;if(Cl.value.fullName||(Ol.value.fullName=S("errors.enterName"),a=!1),Cl.value.phone||(Ol.value.phone=S("errors.enterPhone"),a=!1),Cl.value.email||(Ol.value.email=S("errors.enterEmail"),a=!1),Cl.value.age?(isNaN(Number(Cl.value.age))||Number(Cl.value.age)<16||Number(Cl.value.age)>100)&&(Ol.value.age=S("errors.enterValidAge"),a=!1):(Ol.value.age=S("errors.enterAge"),a=!1),!a)return;xl.value={...xl.value,fullName:Cl.value.fullName,phone:Cl.value.phone,email:Cl.value.email,age:Number(Cl.value.age),hasOtherJobs:Cl.value.hasOtherJobs,skills:Cl.value.skills.split(",").map((a=>a.trim())).filter((a=>a)),experience:Cl.value.experience,photo:Il.preview||xl.value.photo};const e=localStorage.getItem("user");if(e){const a=JSON.parse(e);console.log("Существующие данные пользователя перед обновлением:",a);const l={...a,fullName:xl.value.fullName,name:xl.value.fullName,phone:xl.value.phone,email:xl.value.email,age:xl.value.age,hasOtherJobs:xl.value.hasOtherJobs,skills:xl.value.skills,experience:xl.value.experience,photo:xl.value.photo};console.log("Обновленные данные пользователя:",l),localStorage.setItem("user",JSON.stringify(l));const s=localStorage.getItem("registeredUsers")||"[]",t=JSON.parse(s),o=t.findIndex((a=>a.email===l.email));-1!==o&&(t[o]={...t[o],...l,password:t[o].password},localStorage.setItem("registeredUsers",JSON.stringify(t)),console.log("Данные пользователя обновлены также в registeredUsers"))}Jl.value=!1},Xl=(a,e,l)=>{const s=Sl.value.findIndex((e=>e.id===a)),t=Sl.value[s];if(-1!==s&&(null==t?void 0:t.applications)){const a=t.applications.findIndex((a=>a.applicantId===e));if(-1!==a&&t.applications[a]){const e=t.applications[a];e&&(e.status=l,localStorage.setItem("jobs",JSON.stringify(Sl.value)),"accepted"===l&&(t.status="in-progress",localStorage.setItem("jobs",JSON.stringify(Sl.value))))}}},Zl=e(!1),as=e(!1),es=e(null),ls=e({title:"",description:"",salary:"",location:"",phone:"",date:"",remarks:""}),ss=e({id:null,title:"",description:"",salary:"",location:"",phone:"",date:"",status:"new",category:"Разное",remarks:""}),ts=e({title:"",description:"",salary:"",location:"",phone:"",date:""}),os=e({title:"",description:"",salary:"",location:"",phone:"",date:""}),is=()=>{Zl.value=!0,as.value=!1,Object.keys(ls.value).forEach((a=>ls.value[a]="")),Object.keys(ts.value).forEach((a=>ts.value[a]="")),ls.value.date=(new Date).toISOString().split("T")[0],xl.value.phone&&(ls.value.phone=xl.value.phone)},ns=()=>{Zl.value=!1},rs=()=>{as.value=!1,es.value=null},us=()=>{let a=!0;if(Object.keys(os.value).forEach((a=>os.value[a]="")),ss.value.title||(os.value.title="Введите название",a=!1),ss.value.description||(os.value.description="Введите описание",a=!1),ss.value.salary||(os.value.salary="Введите зарплату",a=!1),ss.value.location||(os.value.location="Введите локацию",a=!1),ss.value.phone||(os.value.phone="Введите телефон",a=!1),ss.value.date||(os.value.date="Выберите дату",a=!1),!a)return;const e=Sl.value.findIndex((a=>a.id===es.value));-1!==e&&null!==es.value&&(Sl.value[e]={...ss.value,id:es.value},localStorage.setItem("jobs",JSON.stringify(Sl.value)),as.value=!1,es.value=null)},cs=()=>{let a=!0;if(Object.keys(ts.value).forEach((a=>ts.value[a]="")),ls.value.title||(ts.value.title="Введите название",a=!1),ls.value.description||(ts.value.description="Введите описание",a=!1),ls.value.salary||(ts.value.salary="Введите зарплату",a=!1),ls.value.location||(ts.value.location="Введите локацию",a=!1),ls.value.phone||(ts.value.phone="Введите телефон",a=!1),ls.value.date||(ts.value.date="Выберите дату",a=!1),!a)return;const e={id:Date.now(),title:ls.value.title,description:ls.value.description,salary:ls.value.salary,location:ls.value.location,phone:ls.value.phone,date:ls.value.date,status:"new",category:"Разное",remarks:ls.value.remarks||""};Sl.value.unshift(e),localStorage.setItem("jobs",JSON.stringify(Sl.value)),Zl.value=!1};return(a,e)=>(k(),o("div",j,[i("div",N,[i("div",x,[i("h1",J,r((Nl.value,u(S)("profile"))),1)]),i("div",C,[i("button",{class:c(["tab-btn",{active:"profile"===Vl.value}]),onClick:e[0]||(e[0]=a=>ql("profile"))},r(u(S)("profile")),3),i("button",{class:c(["tab-btn",{active:"jobs"===Vl.value}]),onClick:e[1]||(e[1]=a=>ql("jobs"))},r("worker"===Nl.value?u(S)("myJobs"):u(S)("myVacancies")),3),"worker"===Nl.value?(k(),o("button",{key:0,class:c(["tab-btn",{active:"available-jobs"===Vl.value}]),onClick:e[2]||(e[2]=a=>ql("available-jobs"))},r(u(S)("availableJobs")),3)):n("",!0),"employer"===Nl.value?(k(),o("button",{key:1,class:c(["tab-btn",{active:"applications"===Vl.value}]),onClick:e[3]||(e[3]=a=>ql("applications"))},r(u(S)("applications")),3)):n("",!0),i("button",{class:c(["tab-btn",{active:"notifications"===Vl.value}]),onClick:e[4]||(e[4]=a=>ql("notifications"))},r(u(S)("notifications")),3)]),"profile"===Vl.value?(k(),o("div",O,[i("div",I,[i("h2",null,r(u(S)("personalData")),1),i("button",{onClick:Hl,class:"btn btn-primary"},[e[34]||(e[34]=i("i",{class:"fas fa-edit"},null,-1)),v(" "+r(u(S)("editProfile")),1)])]),xl.value.photo?(k(),o("div",U,[i("img",{src:xl.value.photo,alt:"Фото пользователя",class:"avatar-img"},null,8,V)])):xl.value.avatar?(k(),o("div",D,[i("img",{src:xl.value.avatar,alt:"Аватар пользователя",class:"avatar-img"},null,8,P)])):(k(),o("div",A,e[35]||(e[35]=[i("div",{class:"avatar-placeholder"},[i("i",{class:"fas fa-user-circle"})],-1)]))),i("div",L,[i("div",E,[i("span",T,r(u(S)("name"))+":",1),i("span",q,r(xl.value.fullName),1)]),i("div",$,[i("span",G,r(u(S)("phone"))+":",1),i("span",R,r(xl.value.phone),1)]),i("div",_,[i("span",F,r(u(S)("email"))+":",1),i("span",M,r(xl.value.email),1)]),i("div",z,[i("span",B,r(u(S)("age"))+":",1),i("span",H,r(xl.value.age)+" лет",1)]),"worker"===Nl.value?(k(),o("div",K,[i("span",Y,r(u(S)("hasOtherJob"))+":",1),i("span",Q,r(xl.value.hasOtherJobs?"Да":"Нет"),1)])):n("",!0),"worker"===Nl.value&&xl.value.skills&&xl.value.skills.length>0?(k(),o("div",W,[i("span",X,r(u(S)("skills"))+":",1),i("span",Z,[(k(!0),o(d,null,p(xl.value.skills,((a,e)=>(k(),o("span",{key:e,class:"skill-tag"},r(a),1)))),128))])])):n("",!0),"worker"===Nl.value&&xl.value.experience?(k(),o("div",aa,[i("span",ea,r(u(S)("experience"))+":",1),i("span",la,r(xl.value.experience),1)])):n("",!0),i("div",sa,[i("span",ta,r(u(S)("accountType"))+":",1),i("span",oa,r("worker"===Nl.value?u(S)("workerType"):u(S)("employerType")),1)]),xl.value.authProvider?(k(),o("div",ia,[i("span",na,r(u(S)("loginMethod"))+":",1),i("span",ra,[i("i",{class:c([_l.value,"auth-icon"])},null,2),v(" "+r(Fl.value),1)])])):n("",!0)])])):"jobs"===Vl.value?(k(),o("div",ua,[i("div",ca,[i("h2",null,r("worker"===Nl.value?u(S)("myJobs"):u(S)("myVacancies")),1),i("div",va,[i("button",{class:c(["filter-btn",{active:"all"===Dl.value}]),onClick:e[5]||(e[5]=a=>$l("all"))},r(u(S)("allStatuses")),3),i("button",{class:c(["filter-btn",{active:"new"===Dl.value}]),onClick:e[6]||(e[6]=a=>$l("new"))},r(u(S)("newStatus")),3),i("button",{class:c(["filter-btn",{active:"in-progress"===Dl.value}]),onClick:e[7]||(e[7]=a=>$l("in-progress"))},r(u(S)("inProgressStatus")),3),i("button",{class:c(["filter-btn",{active:"completed"===Dl.value}]),onClick:e[8]||(e[8]=a=>$l("completed"))},r(u(S)("completedStatus")),3)]),"employer"===Nl.value?(k(),o("div",da,[i("button",{class:"btn btn-primary",onClick:is},[e[36]||(e[36]=i("i",{class:"fas fa-plus"},null,-1)),v(" "+r(u(S)("addJob")),1)])])):n("",!0)]),i("div",pa,[0===Pl.value.length?(k(),o("div",fa,[i("p",null,r(u(S)("noJobs")),1)])):(k(),o("div",ma,[(k(!0),o(d,null,p(Pl.value,(a=>(k(),o("div",{key:a.id,class:"job-item"},[i("div",ba,[i("h3",null,r(a.title),1),i("div",{class:c(["job-status",a.status])},r(Gl(a.status)),3)]),i("div",ha,[i("p",null,r(a.description),1),i("div",ya,[i("div",ga,[e[37]||(e[37]=i("i",{class:"fas fa-map-marker-alt"},null,-1)),i("span",null,r(a.location),1)]),i("div",ka,[e[38]||(e[38]=i("i",{class:"fas fa-money-bill-wave"},null,-1)),i("span",null,r(a.salary),1)]),i("div",wa,[e[39]||(e[39]=i("i",{class:"fas fa-calendar-alt"},null,-1)),i("span",null,r(Rl(a.date)),1)]),a.category?(k(),o("div",Sa,[e[40]||(e[40]=i("i",{class:"fas fa-tag"},null,-1)),i("span",null,r(a.category),1)])):n("",!0),"worker"===Nl.value&&a.appliedAt?(k(),o("div",ja,[e[41]||(e[41]=i("i",{class:"fas fa-clock"},null,-1)),i("span",null,r(u(S)("appliedAt"))+": "+r(Bl(a.appliedAt)),1)])):n("",!0)]),a.remarks?(k(),o("div",Na,[i("h4",null,r(u(S)("remarks"))+":",1),i("p",null,r(a.remarks),1)])):n("",!0)]),i("div",xa,[i("button",Ja,r(u(S)("jobDetails")),1),"new"===a.status&&"employer"===Nl.value?(k(),o("button",{key:0,class:"btn btn-outline",onClick:e=>(a=>{Zl.value=!1,as.value=!0,Object.keys(os.value).forEach((a=>os.value[a]="")),ss.value={...a},es.value=a.id})(a)},[e[42]||(e[42]=i("i",{class:"fas fa-edit"},null,-1)),v(" "+r(u(S)("edit")),1)],8,Ca)):n("",!0),"new"===a.status&&"employer"===Nl.value?(k(),o("button",{key:1,class:"btn btn-danger",onClick:e=>(a=>{if(confirm("Вы уверены, что хотите удалить эту вакансию?")){const e=Sl.value.findIndex((e=>e.id===a));-1!==e&&(Sl.value.splice(e,1),localStorage.setItem("jobs",JSON.stringify(Sl.value)))}})(a.id)},[e[43]||(e[43]=i("i",{class:"fas fa-trash-alt"},null,-1)),v(" "+r(u(S)("delete")),1)],8,Oa)):n("",!0),"new"===a.status&&"worker"===Nl.value?(k(),o("button",Ia,r(u(S)("apply")),1)):n("",!0),"in-progress"===a.status?(k(),o("button",Ua,r(u(S)("complete")),1)):n("",!0),"worker"===Nl.value&&"new"===a.status?(k(),o("button",{key:4,class:"btn btn-danger",onClick:e=>(a=>{var e;if((null==(e=xl.value)?void 0:e.fullName)&&confirm("Вы уверены, что хотите отменить отклик на эту вакансию?")){const e=jl.value.findIndex((e=>e.id===a));if(-1!==e){jl.value.splice(e,1),localStorage.setItem("myJobs",JSON.stringify(jl.value));const l=Sl.value.findIndex((e=>e.id===a)),s=Sl.value[l];if(-1!==l&&(null==s?void 0:s.applications)){const a=s.applications.findIndex((a=>a.applicantName===xl.value.fullName));-1!==a&&(s.applications.splice(a,1),localStorage.setItem("jobs",JSON.stringify(Sl.value)))}}}})(a.id)},[e[44]||(e[44]=i("i",{class:"fas fa-times"},null,-1)),v(" "+r(u(S)("cancelApplication")),1)],8,Va)):n("",!0)])])))),128))]))])])):"available-jobs"===Vl.value&&"worker"===Nl.value?(k(),o("div",Da,[i("div",Pa,[e[46]||(e[46]=i("h2",null,"Доступные вакансии",-1)),i("div",Aa,[i("div",La,[f(i("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=a=>El.value=a),placeholder:"Поиск по названию, описанию или локации...",class:"search-input"},null,512),[[m,El.value]]),e[45]||(e[45]=i("i",{class:"fas fa-search search-icon"},null,-1))]),i("div",Ea,[i("div",Ta,[(k(!0),o(d,null,p(Tl.value,(a=>(k(),o("button",{key:a,class:c(["category-btn",{active:Ll.value===a}]),onClick:e=>(a=>{Ll.value=a})(a)},r(a),11,qa)))),128))])])])]),i("div",$a,[0===Al.value.length?(k(),o("div",Ga,e[47]||(e[47]=[i("p",null,"Нет доступных вакансий в данный момент",-1)]))):(k(),o("div",Ra,[(k(!0),o(d,null,p(Al.value,(a=>(k(),o("div",{key:a.id,class:"job-item"},[i("div",_a,[i("h3",null,r(a.title),1),e[48]||(e[48]=i("div",{class:"job-status new"},"Новая",-1))]),i("div",Fa,[i("p",null,r(a.description),1),i("div",Ma,[i("div",za,[e[49]||(e[49]=i("i",{class:"fas fa-map-marker-alt"},null,-1)),i("span",null,r(a.location),1)]),i("div",Ba,[e[50]||(e[50]=i("i",{class:"fas fa-money-bill-wave"},null,-1)),i("span",null,r(a.salary),1)]),i("div",Ha,[e[51]||(e[51]=i("i",{class:"fas fa-calendar-alt"},null,-1)),i("span",null,r(Rl(a.date)),1)]),a.category?(k(),o("div",Ka,[e[52]||(e[52]=i("i",{class:"fas fa-tag"},null,-1)),i("span",null,r(a.category),1)])):n("",!0)]),a.remarks?(k(),o("div",Ya,[e[53]||(e[53]=i("h4",null,"Примечания:",-1)),i("p",null,r(a.remarks),1)])):n("",!0)]),i("div",Qa,[i("button",{class:"btn btn-primary",onClick:e=>(a=>{if(jl.value.some((e=>e.id===a.id)))return void alert(`Вы уже откликнулись на вакансию "${a.title}"`);const e={...a,appliedAt:(new Date).toISOString(),status:"new",applicantData:{id:Date.now(),fullName:xl.value.fullName,phone:xl.value.phone,email:xl.value.email,skills:xl.value.skills,experience:xl.value.experience}};jl.value.push(e),localStorage.setItem("myJobs",JSON.stringify(jl.value));const l=Sl.value.findIndex((e=>e.id===a.id));if(-1!==l){const a=Sl.value[l];a&&(a.applications||(a.applications=[]),a.applications.push({applicantId:Date.now(),applicantName:xl.value.fullName,appliedAt:(new Date).toISOString(),status:"new"}),localStorage.setItem("jobs",JSON.stringify(Sl.value)))}alert(`Вы успешно откликнулись на вакансию "${a.title}"`)})(a)},e[54]||(e[54]=[i("i",{class:"fas fa-check"},null,-1),v(" Откликнуться ")]),8,Wa)])])))),128))]))])])):"applications"===Vl.value&&"employer"===Nl.value?(k(),o("div",Xa,[e[66]||(e[66]=i("div",{class:"applications-header"},[i("h2",null,"Заявки на ваши вакансии")],-1)),i("div",Za,[zl.value?(k(),o("div",ae,[(k(!0),o(d,null,p(Ml.value,(a=>(k(),o("div",{key:a.id,class:"application-job-card"},[i("div",ee,[i("h3",null,r(a.title),1),i("div",{class:c(["job-status",a.status])},r(Gl(a.status)),3)]),i("p",le,r(a.description),1),i("div",se,[i("div",te,[e[55]||(e[55]=i("i",{class:"fas fa-map-marker-alt"},null,-1)),i("span",null,r(a.location),1)]),i("div",oe,[e[56]||(e[56]=i("i",{class:"fas fa-money-bill-wave"},null,-1)),i("span",null,r(a.salary),1)]),i("div",ie,[e[57]||(e[57]=i("i",{class:"fas fa-calendar-alt"},null,-1)),i("span",null,r(Rl(a.date)),1)])]),a.remarks?(k(),o("div",ne,[e[58]||(e[58]=i("h4",null,"Примечания:",-1)),i("p",null,r(a.remarks),1)])):n("",!0),i("div",re,[i("span",null,"Всего заявок: "+r(a.applications?a.applications.length:0),1)]),i("div",ue,[e[63]||(e[63]=i("h4",null,"Соискатели:",-1)),(k(!0),o(d,null,p(a.applications,(l=>{return k(),o("div",{key:l.applicantId,class:"applicant-card"},[i("div",ce,[i("h5",null,r(l.applicantName),1),i("div",{class:c(["applicant-status",l.status])},r((s=l.status,{new:S("newStatus"),accepted:S("accept"),rejected:S("reject"),completed:S("completedStatus")}[s]||s)),3)]),i("div",ve,[i("div",de,[e[59]||(e[59]=i("i",{class:"fas fa-clock"},null,-1)),i("span",null,"Откликнулся: "+r(Bl(l.appliedAt)),1)])]),"new"===l.status?(k(),o("div",pe,[i("button",{class:"btn btn-primary",onClick:e=>Xl(a.id,l.applicantId,"accepted")},e[60]||(e[60]=[i("i",{class:"fas fa-check"},null,-1),v(" Принять ")]),8,fe),i("button",{class:"btn btn-danger",onClick:e=>Xl(a.id,l.applicantId,"rejected")},e[61]||(e[61]=[i("i",{class:"fas fa-times"},null,-1),v(" Отклонить ")]),8,me)])):"accepted"===l.status?(k(),o("div",be,[i("button",{class:"btn btn-success",onClick:e=>((a,e)=>{const l=Sl.value.findIndex((e=>e.id===a));if(-1!==l&&(Sl.value[l].status=e,localStorage.setItem("jobs",JSON.stringify(Sl.value))),"worker"===Nl.value){const l=jl.value.findIndex((e=>e.id===a));-1!==l&&(jl.value[l].status=e,localStorage.setItem("myJobs",JSON.stringify(jl.value)))}})(a.id,"completed")},e[62]||(e[62]=[i("i",{class:"fas fa-check-double"},null,-1),v(" Завершить работу ")]),8,he)])):n("",!0)]);var s})),128))])])))),128))])):(k(),o("div",ye,[e[65]||(e[65]=i("p",null,"На ваши вакансии еще нет откликов",-1)),i("button",{class:"btn btn-primary",onClick:e[10]||(e[10]=a=>ql("jobs"))},e[64]||(e[64]=[i("i",{class:"fas fa-briefcase"},null,-1),v(" Перейти к моим вакансиям ")]))]))])])):"notifications"===Vl.value?(k(),o("div",ge,e[67]||(e[67]=[b('<div class="notifications-card" data-v-390f8fd4><h2 data-v-390f8fd4>Уведомления</h2><div class="notifications-list" data-v-390f8fd4><div class="notification-item" data-v-390f8fd4><div class="notification-icon notification-info" data-v-390f8fd4><i class="icon-info" data-v-390f8fd4></i></div><div class="notification-content" data-v-390f8fd4><div class="notification-text" data-v-390f8fd4> Новая вакансия соответствует вашему профилю: &quot;Сборка мебели&quot; </div><div class="notification-date" data-v-390f8fd4>15.06.2023</div></div></div><div class="notification-item" data-v-390f8fd4><div class="notification-icon notification-success" data-v-390f8fd4><i class="icon-success" data-v-390f8fd4></i></div><div class="notification-content" data-v-390f8fd4><div class="notification-text" data-v-390f8fd4> Ваша заявка на вакансию &quot;Курьер на 3 часа&quot; принята </div><div class="notification-date" data-v-390f8fd4>10.06.2023</div></div></div><div class="notification-item" data-v-390f8fd4><div class="notification-icon notification-warning" data-v-390f8fd4><i class="icon-warning" data-v-390f8fd4></i></div><div class="notification-content" data-v-390f8fd4><div class="notification-text" data-v-390f8fd4> Напоминание: завтра у вас задание &quot;Уборщица на 2 часа&quot; </div><div class="notification-date" data-v-390f8fd4>05.06.2023</div></div></div></div></div>',1)]))):n("",!0)]),Jl.value?(k(),o("div",ke,[i("div",we,[e[80]||(e[80]=i("h2",null,"Редактирование профиля",-1)),i("div",Se,[i("form",{onSubmit:h(Wl,["prevent"])},[i("div",je,[e[72]||(e[72]=i("label",null,"Фото профиля",-1)),i("div",Ne,[i("div",{class:c(["photo-preview",{"has-photo":Il.preview}])},[Il.preview?(k(),o("img",{key:0,src:Il.preview,alt:"Profile Preview"},null,8,xe)):(k(),o("div",Je,e[68]||(e[68]=[i("i",{class:"fas fa-user"},null,-1)]))),Il.preview?(k(),o("button",{key:2,type:"button",class:"remove-photo",onClick:Ql},e[69]||(e[69]=[i("i",{class:"fas fa-times"},null,-1)]))):n("",!0)],2),i("div",Ce,[i("label",Oe,[e[70]||(e[70]=i("i",{class:"fas fa-camera"},null,-1)),v(" "+r(Il.preview?"Изменить фото":"Загрузить фото"),1)]),i("input",{type:"file",id:"photo-upload-edit",accept:"image/*",onChange:Yl,class:"photo-input"},null,32),e[71]||(e[71]=i("p",{class:"photo-hint"},"JPG, PNG, GIF. Макс. размер 5МБ",-1)),Il.error?(k(),o("div",Ie,r(Il.error),1)):n("",!0)])])]),i("div",Ue,[e[73]||(e[73]=i("label",{for:"fullName"},"ФИО *",-1)),f(i("input",{type:"text",id:"fullName","onUpdate:modelValue":e[11]||(e[11]=a=>Cl.value.fullName=a),class:c(["form-control",{"has-error":Ol.value.fullName}])},null,2),[[m,Cl.value.fullName]]),Ol.value.fullName?(k(),o("div",Ve,r(Ol.value.fullName),1)):n("",!0)]),i("div",De,[e[74]||(e[74]=i("label",{for:"phone"},"Телефон *",-1)),f(i("input",{type:"tel",id:"phone","onUpdate:modelValue":e[12]||(e[12]=a=>Cl.value.phone=a),class:c(["form-control",{"has-error":Ol.value.phone}])},null,2),[[m,Cl.value.phone]]),Ol.value.phone?(k(),o("div",Pe,r(Ol.value.phone),1)):n("",!0)]),i("div",Ae,[e[75]||(e[75]=i("label",{for:"email"},"Email *",-1)),f(i("input",{type:"email",id:"email","onUpdate:modelValue":e[13]||(e[13]=a=>Cl.value.email=a),class:c(["form-control",{"has-error":Ol.value.email}])},null,2),[[m,Cl.value.email]]),Ol.value.email?(k(),o("div",Le,r(Ol.value.email),1)):n("",!0)]),i("div",Ee,[e[76]||(e[76]=i("label",{for:"age"},"Возраст *",-1)),f(i("input",{type:"number",id:"age","onUpdate:modelValue":e[14]||(e[14]=a=>Cl.value.age=a),class:c(["form-control",{"has-error":Ol.value.age}])},null,2),[[m,Cl.value.age]]),Ol.value.age?(k(),o("div",Te,r(Ol.value.age),1)):n("",!0)]),"worker"===Nl.value?(k(),o("div",qe,[i("label",$e,[f(i("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=a=>Cl.value.hasOtherJobs=a)},null,512),[[y,Cl.value.hasOtherJobs]]),e[77]||(e[77]=i("span",null,"У меня есть другая работа",-1))])])):n("",!0),"worker"===Nl.value?(k(),o("div",Ge,[e[78]||(e[78]=i("label",{for:"skills"},"Навыки (через запятую)",-1)),f(i("input",{type:"text",id:"skills","onUpdate:modelValue":e[16]||(e[16]=a=>Cl.value.skills=a),class:"form-control",placeholder:"Например: уборка, готовка, ремонт"},null,512),[[m,Cl.value.skills]])])):n("",!0),"worker"===Nl.value?(k(),o("div",Re,[e[79]||(e[79]=i("label",{for:"experience"},"Опыт работы",-1)),f(i("textarea",{id:"experience","onUpdate:modelValue":e[17]||(e[17]=a=>Cl.value.experience=a),class:"form-control",rows:"3",placeholder:"Расскажите о вашем опыте"},null,512),[[m,Cl.value.experience]])])):n("",!0)],32)]),i("div",{class:"modal-actions"},[i("button",{type:"button",class:"btn btn-primary",onClick:Wl}," Сохранить изменения "),i("button",{type:"button",class:"btn btn-outline",onClick:Kl}," Отмена ")])])])):n("",!0),Zl.value?(k(),o("div",_e,[i("div",Fe,[e[88]||(e[88]=i("h2",null,"Добавить вакансию",-1)),i("div",Me,[i("div",ze,[e[81]||(e[81]=i("label",null,"Название вакансии *",-1)),f(i("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=a=>ls.value.title=a),class:c(["form-control",{"has-error":ts.value.title}])},null,2),[[m,ls.value.title]]),ts.value.title?(k(),o("div",Be,r(ts.value.title),1)):n("",!0)]),i("div",He,[e[82]||(e[82]=i("label",null,"Описание *",-1)),f(i("textarea",{"onUpdate:modelValue":e[19]||(e[19]=a=>ls.value.description=a),class:c(["form-control",{"has-error":ts.value.description}])},null,2),[[m,ls.value.description]]),ts.value.description?(k(),o("div",Ke,r(ts.value.description),1)):n("",!0)]),i("div",Ye,[e[83]||(e[83]=i("label",null,"Зарплата *",-1)),f(i("input",{type:"text","onUpdate:modelValue":e[20]||(e[20]=a=>ls.value.salary=a),class:c(["form-control",{"has-error":ts.value.salary}])},null,2),[[m,ls.value.salary]]),ts.value.salary?(k(),o("div",Qe,r(ts.value.salary),1)):n("",!0)]),i("div",We,[e[84]||(e[84]=i("label",null,"Локация *",-1)),f(i("input",{type:"text","onUpdate:modelValue":e[21]||(e[21]=a=>ls.value.location=a),class:c(["form-control",{"has-error":ts.value.location}])},null,2),[[m,ls.value.location]]),ts.value.location?(k(),o("div",Xe,r(ts.value.location),1)):n("",!0)]),i("div",Ze,[e[85]||(e[85]=i("label",null,"Телефон *",-1)),f(i("input",{type:"tel","onUpdate:modelValue":e[22]||(e[22]=a=>ls.value.phone=a),class:c(["form-control",{"has-error":ts.value.phone}])},null,2),[[m,ls.value.phone]]),ts.value.phone?(k(),o("div",al,r(ts.value.phone),1)):n("",!0)]),i("div",el,[e[86]||(e[86]=i("label",null,"Дата *",-1)),f(i("input",{type:"date","onUpdate:modelValue":e[23]||(e[23]=a=>ls.value.date=a),class:c(["form-control",{"has-error":ts.value.date}])},null,2),[[m,ls.value.date]]),ts.value.date?(k(),o("div",ll,r(ts.value.date),1)):n("",!0)]),i("div",sl,[e[87]||(e[87]=i("label",null,"Примечания",-1)),f(i("textarea",{"onUpdate:modelValue":e[24]||(e[24]=a=>ls.value.remarks=a),class:"form-control",rows:"3",placeholder:"Добавьте примечания"},null,512),[[m,ls.value.remarks]])])]),i("div",{class:"modal-actions"},[i("button",{type:"button",class:"btn btn-primary",onClick:cs},"Добавить"),i("button",{type:"button",class:"btn btn-outline",onClick:ns},"Отмена")])])])):n("",!0),as.value?(k(),o("div",tl,[i("div",ol,[e[100]||(e[100]=i("h2",null,"Редактировать вакансию",-1)),i("div",il,[i("div",nl,[e[89]||(e[89]=i("label",{for:"editTitle"},"Название вакансии *",-1)),f(i("input",{type:"text",id:"editTitle","onUpdate:modelValue":e[25]||(e[25]=a=>ss.value.title=a),class:c(["form-control",{"has-error":os.value.title}])},null,2),[[m,ss.value.title]]),os.value.title?(k(),o("div",rl,r(os.value.title),1)):n("",!0)]),i("div",ul,[e[90]||(e[90]=i("label",{for:"editDescription"},"Описание *",-1)),f(i("textarea",{id:"editDescription","onUpdate:modelValue":e[26]||(e[26]=a=>ss.value.description=a),class:c(["form-control",{"has-error":os.value.description}]),rows:"4"},null,2),[[m,ss.value.description]]),os.value.description?(k(),o("div",cl,r(os.value.description),1)):n("",!0)]),i("div",vl,[e[91]||(e[91]=i("label",{for:"editSalary"},"Зарплата *",-1)),f(i("input",{type:"text",id:"editSalary","onUpdate:modelValue":e[27]||(e[27]=a=>ss.value.salary=a),class:c(["form-control",{"has-error":os.value.salary}])},null,2),[[m,ss.value.salary]]),os.value.salary?(k(),o("div",dl,r(os.value.salary),1)):n("",!0)]),i("div",pl,[e[92]||(e[92]=i("label",{for:"editLocation"},"Локация *",-1)),f(i("input",{type:"text",id:"editLocation","onUpdate:modelValue":e[28]||(e[28]=a=>ss.value.location=a),class:c(["form-control",{"has-error":os.value.location}])},null,2),[[m,ss.value.location]]),os.value.location?(k(),o("div",fl,r(os.value.location),1)):n("",!0)]),i("div",ml,[e[93]||(e[93]=i("label",{for:"editPhone"},"Телефон *",-1)),f(i("input",{type:"tel",id:"editPhone","onUpdate:modelValue":e[29]||(e[29]=a=>ss.value.phone=a),class:c(["form-control",{"has-error":os.value.phone}])},null,2),[[m,ss.value.phone]]),os.value.phone?(k(),o("div",bl,r(os.value.phone),1)):n("",!0)]),i("div",hl,[e[95]||(e[95]=i("label",{for:"editCategory"},"Категория",-1)),f(i("select",{id:"editCategory","onUpdate:modelValue":e[30]||(e[30]=a=>ss.value.category=a),class:"form-control"},e[94]||(e[94]=[b('<option value="Уборка" data-v-390f8fd4>Уборка</option><option value="Строительство" data-v-390f8fd4>Строительство</option><option value="Доставка" data-v-390f8fd4>Доставка</option><option value="Ремонт" data-v-390f8fd4>Ремонт</option><option value="Няни" data-v-390f8fd4>Няни</option><option value="Разное" data-v-390f8fd4>Разное</option>',6)]),512),[[g,ss.value.category]])]),i("div",yl,[e[96]||(e[96]=i("label",{for:"editDate"},"Дата *",-1)),f(i("input",{type:"date",id:"editDate","onUpdate:modelValue":e[31]||(e[31]=a=>ss.value.date=a),class:c(["form-control",{"has-error":os.value.date}])},null,2),[[m,ss.value.date]]),os.value.date?(k(),o("div",gl,r(os.value.date),1)):n("",!0)]),i("div",kl,[e[98]||(e[98]=i("label",{for:"editStatus"},"Статус",-1)),f(i("select",{id:"editStatus","onUpdate:modelValue":e[32]||(e[32]=a=>ss.value.status=a),class:"form-control"},e[97]||(e[97]=[i("option",{value:"new"},"Новая",-1),i("option",{value:"in-progress"},"В работе",-1),i("option",{value:"completed"},"Завершена",-1)]),512),[[g,ss.value.status]])]),i("div",wl,[e[99]||(e[99]=i("label",{for:"editRemarks"},"Примечания",-1)),f(i("textarea",{id:"editRemarks","onUpdate:modelValue":e[33]||(e[33]=a=>ss.value.remarks=a),class:"form-control",rows:"3",placeholder:"Добавьте примечания"},null,512),[[m,ss.value.remarks]])])]),i("div",{class:"modal-actions"},[i("button",{type:"button",class:"btn btn-primary",onClick:us},"Сохранить"),i("button",{type:"button",class:"btn btn-outline",onClick:rs},"Отмена")])])])):n("",!0)]))}}),[["__scopeId","data-v-390f8fd4"]]);export{Sl as default};
