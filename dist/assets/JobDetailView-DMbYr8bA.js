import{d as a,L as l,r as e,o as s,k as t,l as i,j as o,t as n,y as u,A as c,x as v,m as r,F as d,p as b,v as m,q as p}from"./vendor-DG3C2HZs.js";import{j as y}from"./api-xqyKR9hB.js";import{_ as j}from"./index-CDvNi4Z9.js";const f={class:"job-detail"},k={class:"container"},h={key:0,class:"text-center py-5"},_={key:1,class:"not-found"},g={key:2,class:"job-detail-content"},q={class:"job-detail-header"},x={class:"job-meta"},w={class:"job-category"},D={class:"job-date"},I={class:"job-detail-body"},J={class:"job-detail-main"},L={class:"job-section"},S={key:0,class:"job-section"},A={class:"job-section"},C={class:"job-detail-sidebar"},F={class:"job-detail-card"},R={class:"job-info-item"},U={class:"value"},V={class:"job-info-item"},$={class:"value"},z={class:"job-info-item"},B={class:"value phone"},E={class:"job-actions"},G=["href"],H={key:1,class:"mt-2 text-success"},K={key:3,class:"not-found"},M=j(a({__name:"JobDetailView",setup(a){const j=l(),M=parseInt(j.params.id),N=e(null),O=e(!0),P=e(""),Q=e(""),T=e(!!localStorage.getItem("token"));s((async()=>{O.value=!0,P.value="";try{N.value=await y.getJob(M),N.value&&N.value.error&&(P.value=N.value.error,N.value=null)}catch(a){P.value="Ошибка при загрузке вакансии"}finally{O.value=!1}}));async function W(){Q.value="";try{const a=await y.apply(M);a.message?Q.value=a.message:Q.value="Вы успешно откликнулись!"}catch(a){Q.value="Ошибка при отклике"}}return(a,l)=>{const e=v("router-link");return p(),t("div",f,[i("div",k,[O.value?(p(),t("div",h,"Загрузка...")):P.value?(p(),t("div",_,[l[1]||(l[1]=i("h2",null,"Ошибка",-1)),i("p",null,n(P.value),1),o(e,{to:"/jobs",class:"btn btn-primary mt-3"},{default:u((()=>l[0]||(l[0]=[c("Вернуться к списку вакансий")]))),_:1,__:[0]})])):N.value?(p(),t("div",g,[i("div",q,[o(e,{to:"/jobs",class:"back-link"},{default:u((()=>l[2]||(l[2]=[c("← Назад к списку вакансий")]))),_:1,__:[2]}),i("h1",null,n(N.value.title),1),i("div",x,[i("div",w,n(N.value.category),1),i("div",D,"Опубликовано: "+n((s=N.value.date,new Date(s).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}))),1)])]),i("div",I,[i("div",J,[i("div",L,[l[3]||(l[3]=i("h2",null,"Описание",-1)),i("p",null,n(N.value.description),1)]),N.value.requirements?(p(),t("div",S,[l[4]||(l[4]=i("h2",null,"Требования",-1)),i("ul",null,[(p(!0),t(d,null,b(N.value.requirements.split?N.value.requirements.split(","):N.value.requirements,((a,l)=>(p(),t("li",{key:l},n(a),1)))),128))])])):r("",!0),i("div",A,[l[5]||(l[5]=i("h2",null,"Работодатель",-1)),i("p",null,n(N.value.employer),1)])]),i("div",C,[i("div",F,[i("div",R,[l[6]||(l[6]=i("div",{class:"label"},"Оплата:",-1)),i("div",U,n(N.value.salary),1)]),i("div",V,[l[7]||(l[7]=i("div",{class:"label"},"Место:",-1)),i("div",$,n(N.value.location),1)]),i("div",z,[l[8]||(l[8]=i("div",{class:"label"},"Телефон:",-1)),i("div",B,n(N.value.phone),1)]),i("div",E,[i("a",{href:`tel:${N.value.phone}`,class:"btn btn-primary btn-block"},"Позвонить",8,G),T.value?(p(),t("button",{key:0,onClick:W,class:"btn btn-success btn-block mt-2"},"Откликнуться")):r("",!0),Q.value?(p(),t("div",H,n(Q.value),1)):r("",!0)])])])])])):(p(),t("div",K,[l[10]||(l[10]=i("h2",null,"Вакансия не найдена",-1)),i("p",null,"Извините, вакансия с ID "+n(m(M))+" не найдена.",1),o(e,{to:"/jobs",class:"btn btn-primary mt-3"},{default:u((()=>l[9]||(l[9]=[c("Вернуться к списку вакансий")]))),_:1,__:[9]})]))])]);var s}}}),[["__scopeId","data-v-0c6736da"]]);export{M as default};
